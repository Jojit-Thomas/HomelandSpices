<style>
  .avatar{ width: calc(10rem + 20vw); height: calc(10rem + 20vw); } @media
  screen and (min-width: 576px) { .inp-sm-5 { width: 48%; } }
</style>

<section class="d-flex flex-wrap">
  <div class="col-sm-12 col-md-5 col-lg-4 vh-100 d-flex justify-content-center">
    <img src="/images/logo.png" class="rounded-circle m-auto avatar" alt="" />
  </div>
  <div class="col-sm-12 col-md-7 col-lg-8 d-flex">
    <div class="mx-auto p-5" style="width: 80%;">
      {{#with userDetails}}
        <form action="" id="userDetails">
          <div class="d-flex flex-wrap justify-content-between">
          <input
            class="col-12 inp-sm-5 py-2 px-3 mb-3"
            placeholder="Name"
            id="name"
            type="text"
            name="name"
            value="{{name}}"
          />
          <input
            class="col-12 inp-sm-5 py-2 px-3 mb-3"
            placeholder="Email"
            id="email"
            type="text"
            name="email"
            value="{{email}}"
          />
        </div>
        <div class="d-flex flex-wrap justify-content-between">
          <input
            class="col-12 inp-sm-5 py-2 px-3 mb-3"
            placeholder="Phone"
            id="phone"
            type="text"
            name="phone"
            value="{{phone}}"
          />
          <div
            class="btn bg-btn col-12 inp-sm-5 text-center px-1 px-sm-5 d-flex"
            style="height: 2.75rem;"
            onclick="editUser()"
          ><p class="m-auto text-white text-uppercase">Edit</p></div>
        </div>
                {{!-- <input 
          class="form-control py-2 px-3 mb-3 d-none"
          placeholder="E.g : PaSs#1$2&3"
          id="password"
          type="password"
          name="password"
        /> --}}
        </form>
      {{/with}}
      <div class="d-flex flex-wrap justify-content-between">
        <h1 class="my-auto" >Address</h1>
        <a class="my-auto" href="/address/add">Add Address</a>
      </div>
      <div class="d-flex flex-wrap justify-content-between">
        {{#each address}}
          <div class="col-12 col-sm-6 col-md-4  border border-dark">
            <div class="d-flex flex-wrap justify-content-between">
                <h5 class="text-dark title">{{this.name}}</h5>
                <a href="/address/edit">Edit</a>
            </div>
            <p class="text-muted mb-0 desc">{{this.houseName}},
              {{this.postOffice}}
              P.O.,
              {{this.locality}},
              {{this.city}},
              {{this.landmark}}, Pincode :
              {{this.pincode}}</p>
            <small>Phone : {{this.phone}}</small>

          </div>
        {{/each}}
        <a href="/orders" class="fs-3">Orders</a>
        <a href="/user/password/reset" class="fs-6">Change Password</a>
      </div>
    </div>
  </div>
</section>


<script>
  function editUser() {
    console.log("Edit user")
    $.ajax({
      url: "/user/edit",
      method : "POST",
      data : $("#userDetails").serialize(),
      success: function(data) {
        console.log(data);
      },
      errors: function(err) {
        console.log(err)
      }
    })
  }
</script>